<!-- Toast para notificaciones -->
<p-toast></p-toast>

<!-- Contenedor principal centrado -->
<div class="forgot-password-container">
  <div class="forgot-password-content">
    <!-- Logo y título -->
    <div class="header-section">
      <p-avatar
        icon="pi pi-shield"
        size="xlarge"
        [style]="{'background-color': '#1e40af', 'color': 'white'}">
      </p-avatar>
      <h1 class="app-title">NotarIA Digital</h1>
    </div>

    <!-- Tarjeta de forgot password -->
    <div class="card-wrapper">
      <p-card styleClass="forgot-password-card">
        <div class="card-header">
          <h2 class="form-title">Recuperar Contraseña</h2>
          <p class="form-subtitle">Ingresa tu email y te enviaremos un enlace para restablecer tu contraseña</p>
        </div>

        <!-- Mensaje de éxito -->
        @if (successMessage()) {
          <p-message
            severity="success"
            [text]="successMessage()"
            styleClass="w-full mb-4"
          ></p-message>
        }

        <!-- Formulario reactivo -->
        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">

          <!-- Email -->
          <div class="form-field">
            <label for="email" class="field-label">Email</label>
            <input
              pInputText
              id="email"
              formControlName="email"
              type="email"
              class="w-full"
              placeholder="tu@email.com"
              [ngClass]="{'ng-invalid ng-dirty': hasError('email')}"
            />
            @if (hasError('email')) {
              <small class="error-message">
                {{ getErrorMessage('email') }}
              </small>
            }
          </div>

          <!-- Botón de envío -->
          <p-button
            type="submit"
            label="Enviar enlace de recuperación"
            [loading]="isLoading()"
            [disabled]="isLoading()"
            styleClass="w-full submit-button"
          ></p-button>
        </form>

        <!-- Link para volver al login -->
        <div class="footer-link">
          <p><a routerLink="/auth/login" class="login-link">Volver al inicio de sesión</a></p>
        </div>
      </p-card>
    </div>
  </div>
</div>
